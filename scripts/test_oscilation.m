clear;
clc;
close all;

% Load needed packages
pkg load control

graphics_toolkit("gnuplot")
%graphics_toolkit("qt")

% Measurements
K = 1500;


disp("========================================================================")
disp(" Plant")
disp("========================================================================")
[plant, model] = get_model();
plant
tf(model)(1,1)

disp("========================================================================")
disp(" Root Locus")
disp("========================================================================")
figure(1)
rlocus(plant)

disp("========================================================================")
disp(" Impulse Response")
disp("========================================================================")
figure(2)
fb = feedback(K*plant, "-")
fb_1 = feedback(K*tf(model)(1,1), "-")
step(fb, fb_1);

disp("========================================================================")
disp(" Poles")
disp("========================================================================")
ssfb = ss(fb);
poles = eig(ssfb.a)

disp("========================================================================")
disp(" Frequencies")
disp("========================================================================")
for i = 1:size(poles)(1)
  if (imag(poles(i)) != 0) 
    omega_n = abs(poles(i))
    f_n = omega_n/(2*pi)
    T_n = 1/f_n
  endif
endfor




